{"version":3,"sources":["Movie.js","MovieModal.js","App.js","serviceWorker.js","index.js"],"names":["Movie","this","props","title","posterUrl","onClick","Col","className","xs","md","lg","xl","src","alt","onError","e","target","React","Component","MovieModal","show","year","director","state","id","onCancel","onSuccess","onDelete","edit","Modal","aria-labelledby","Header","Title","Body","Container","Row","Form","Group","controlId","Label","Control","type","name","value","placeholder","onChange","setState","min","max","Footer","Button","variant","URL","App","search","a","async","query","yearBefore","yearAfter","fetch","json","movies","err","length","undefined","method","headers","body","JSON","stringify","create","delete","selectedMovie","Navbar","bg","expand","Brand","href","Toggle","aria-controls","Collapse","Nav","inline","FormControl","fluid","map","movie","key","process","class","Boolean","window","location","hostname","match","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.8d8b714b.chunk.js","sourcesContent":["import React from 'react';\r\nimport {Col} from 'react-bootstrap';\r\nconst fallback = \"https://via.placeholder.com/300x442\";\r\nexport default class Movie extends React.Component {\r\n\r\n\trender(){\r\n\r\n\t\tconst { title, posterUrl, onClick } = this.props;\r\n\t\treturn (\r\n\t\t\t<Col className=\"movie animated zoomIn\" xs={12} md={6} lg={3} xl={2} >\r\n\t\t\t\t<div onClick={onClick}>\r\n\t\t\t\t\t<img src={posterUrl} alt={title} onError={function(e){e.target.src = fallback}} className=\"poster\"/>\r\n\t\t\t\t\t<p className=\"title\">{title}</p>\r\n\t\t\t\t</div>\r\n\t\t\t</Col>\r\n\t\t);\r\n\t}\r\n}","import React from 'react';\r\nimport {Modal, Container, Col, Row, Form, Button} from 'react-bootstrap';\r\nconst fallback = \"https://via.placeholder.com/300x442\";\r\n\r\nexport default class MovieModal extends React.Component {\r\n\tconstructor(props){\r\n\t\tsuper(props);\r\n\t\tconst { show, title, year, director, posterUrl } = this.props;\r\n\r\n\t\tthis.state = {\r\n\t\t\tshow, title, year, director, posterUrl\r\n\t\t};\r\n\t}\r\n\trender(){\r\n\t\tconst {id, onCancel, onSuccess, onDelete, edit } = this.props;\r\n\t\tconst {  show, title, year, director, posterUrl } = this.state;\r\n\t\treturn (\r\n\t\t\t<Modal show={show} aria-labelledby=\"contained-modal-title-vcenter\">\r\n\t\t\t\t<Modal.Header>\r\n\t\t\t\t<Modal.Title id=\"contained-modal-title-vcenter\">\r\n\t\t\t\t  {edit ? this.props.title : \"New movie\"}\r\n\t\t\t\t</Modal.Title>\r\n\t\t\t\t</Modal.Header>\r\n\t\t\t\t<Modal.Body>\r\n\t\t\t\t<Container>\r\n\t\t\t\t  <Row className=\"show-grid\">\r\n\t\t\t\t    <Col xs={12} md={6}>\r\n\t\t\t\t      <img src={posterUrl || fallback} alt={title} onError={function(e){e.target.src = fallback}} className=\"poster\"/>\r\n\t\t\t\t    </Col>\r\n\t\t\t\t    <Col xs={12} md={6}>\r\n\t\t\t\t      <Form>\r\n\t\t\t\t        <Form.Group controlId=\"\">\r\n\t\t\t\t          <Form.Label>Movie Title</Form.Label>\r\n\t\t\t\t          <Form.Control type=\"text\" name=\"title\" value={title || \"\"} placeholder=\"Title of the movie\" onChange={e=>this.setState({title: e.target.value})}/>\r\n\t\t\t\t        </Form.Group>\r\n\t\t\t\t        <Form.Group controlId=\"\">\r\n\t\t\t\t          <Form.Label>Director</Form.Label>\r\n\t\t\t\t          <Form.Control type=\"text\" name=\"director\" value={director || \"\"} placeholder=\"Director of the movie\" onChange={e=>this.setState({director: e.target.value})}/>\r\n\t\t\t\t        </Form.Group>\r\n\t\t\t\t        <Form.Group controlId=\"\">\r\n\t\t\t\t          <Form.Label>Year</Form.Label>\r\n\t\t\t\t          <Form.Control type=\"number\" min=\"1700\" max=\"2020\" name=\"year\" value={year || 2019 } placeholder=\"Year of the movie\" onChange={e=>this.setState({year: e.target.value})}/>\r\n\t\t\t\t        </Form.Group>\r\n\t\t\t\t        <Form.Group controlId=\"\">\r\n\t\t\t\t          <Form.Label>Poster URL</Form.Label>\r\n\t\t\t\t          <Form.Control type=\"url\" name=\"posterUrl\" value={posterUrl || \"\"} placeholder=\"Poster URL\" onChange={e=>this.setState({posterUrl: e.target.value})}/>\r\n\t\t\t\t        </Form.Group>\r\n\t\t\t\t\t</Form>\r\n\t\t\t\t    </Col>\r\n\t\t\t\t  </Row>\r\n\t\t\t\t</Container>\r\n\t\t\t\t</Modal.Body>\r\n\t\t\t\t<Modal.Footer>\r\n\t\t\t\t\t{ edit ? <Button variant=\"danger\" onClick={()=>onDelete(id)}>Delete</Button> : null}\r\n\t\t\t\t\t<Button variant=\"warning\" onClick={onCancel}>Cancel</Button>\r\n\t\t\t\t\t<Button variant=\"success\" onClick={()=>onSuccess(id, {title, year, director, posterUrl })}>{ edit ? \"Update\" : \"Create\"}</Button>\r\n\t\t\t\t</Modal.Footer>\r\n\t\t\t</Modal>\r\n\t\t);\r\n\t}\r\n\r\n}","import React from 'react';\nimport './App.css';\nimport {Container, Navbar, Nav, Form, FormControl, Button, Row} from 'react-bootstrap';\nimport Movie from './Movie';\nimport MovieModal from './MovieModal';\n\nconst URL = \"http://localhost:3000/movies\";\n\nexport default class App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      movies: [],\n      err: undefined,\n      director: \"\",\n      selectedMovie: -1\n    };\n  }\n\n  render() {\n    const {movies, err, selectedMovie} = this.state;\n    return (<div>\n      <Navbar bg=\"light\" expand=\"lg\">\n        <Navbar.Brand href=\"#home\">Movie Database</Navbar.Brand>\n        <Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\n        <Navbar.Collapse id=\"basic-navbar-nav\">\n          <Nav className=\"mr-auto\">\n          </Nav>\n          <Form inline>\n            <FormControl type=\"number\" placeholder=\"From\" className=\"mr-sm-2\" onChange={(e)=>this.setState({yearAfter: e.target.value})}/>\n            <FormControl type=\"number\" placeholder=\"To\" className=\"mr-sm-2\" onChange={(e)=>this.setState({yearBefore: e.target.value})}/>\n            <FormControl type=\"text\" placeholder=\"Director\" className=\"mr-sm-2\" onChange={(e)=>this.setState({director: e.target.value})}/>\n            <Button variant=\"outline-success\" type=\"button\" onClick={this.search}>Search</Button>&nbsp;\n            <Button type=\"button\" variant=\"success\" onClick={()=>{this.setState({selectedMovie: -2})}}>New</Button>\n          </Form>\n        </Navbar.Collapse>\n      </Navbar>\n      <Container fluid>\n      <Row>\n        {(!err && movies && movies.length > 0) ? (movies.map((movie, selectedMovie)=><Movie key={movie.id} {...movie} onClick={()=>{this.setState({selectedMovie})}} />)) : null }\n        {(!err && movies && movies.length === 0) ? (<img src={process.env.PUBLIC_URL + \"/spinner.svg\"} alt=\"spinner\" className=\"spinner\"/>) : null }\n        { err ? <div class=\"error\">{err}</div> : null}\n      </Row>\n    </Container>\n    {selectedMovie !== -1 ? <MovieModal show edit={selectedMovie !== -2} {...movies[selectedMovie]}\n      onDelete={(id)=>{this.setState({selectedMovie: -1}); this.delete(id);}}\n      onCancel={()=>{this.setState({selectedMovie: -1})}}\n      onSuccess={(id, state)=>{this.setState({selectedMovie: -1}); this.edit(id, state);}}\n    /> : null}\n    </div>);\n  }\n\n   search = async () => {\n    let query = \"?\";\n    if (this.state.director) {\n      query += \"director=\"+ this.state.director + \"&\";\n    }\n    if (this.state.yearBefore) {\n      query += \"yearBefore=\"+ this.state.yearBefore + \"&\";\n    }\n    if (this.state.yearAfter) {\n      query += \"yearAfter=\"+ this.state.yearAfter + \"&\";\n    }\n\n    try {\n      const movies = await (await fetch(URL+query)).json();\n      this.setState({movies, err: (movies && movies.length > 0)? undefined : \"No results\"});\n    } catch(err) {\n      this.setState({err: \"Error when retrieving movies from server\"});\n    }\n  }\n\n  edit = async (id, state) => {\n    if (id) {\n      try {\n        await (await fetch(URL + \"/\" + id +\"?_method=PUT\", \n          {\n            method: 'POST', \n            headers:{\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify(state)\n          })\n          ).json();\n\n        await this.search();\n      } catch(err) {\n        this.setState({err: \"Error when updating movie\"});\n      }\n    } else {\n      await this.create(state)\n    }   \n  }\n\n  create = async (state) => {\n    try {\n      await (await fetch(URL, \n        {\n          method: 'POST', \n          headers:{\n              'Content-Type': 'application/json'\n          },\n          body: JSON.stringify(state)\n        })\n        ).json();\n\n      await this.search();\n    } catch(err) {\n      this.setState({err: \"Error when creating movie\"});\n    }\n  }\n\n  delete = async (id) => {\n    try {\n      await fetch(URL + \"/\" + id +\"?_method=DELETE\", \n        {\n          method: 'POST', \n          headers:{\n              'Content-Type': 'application/json'\n          }\n        })\n\n      await this.search();\n    } catch(err) {\n      this.setState({err: \"Error when deleting movie\"});\n    }\n  }\n\n  async componentDidMount() {\n    await this.search();\n  }\n\n\n}\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}